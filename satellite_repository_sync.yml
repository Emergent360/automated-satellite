---
- hosts: localhost
  connection: local
  gather_facts: no
  vars:
    login: &login
      server_url: "{{ lookup('env', 'SATELLITE_SERVER_URL') }}"
      username: "{{ lookup('env', 'SATELLITE_USERNAME') }}"
      password: "{{ lookup('env', 'SATELLITE_PASSWORD') }}"
      validate_certs: "{{ lookup('env', 'SATELLITE_VALIDATE_CERTS') }}"
    organization: Default Organization
    publish_timeout: 14400
    publish_retry_interval: 15

  tasks:
    - name: Sync repository "{{ repository }}"
      redhat.satellite.repository_sync:
        <<: *login
        repository: "{{ repository }}"
        product: "{{ product }}"
        organization: "{{ organization }}"
...
